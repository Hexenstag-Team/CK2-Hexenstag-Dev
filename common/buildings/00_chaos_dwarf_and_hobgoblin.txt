### Chaos Dwarfs and Hobgoblins ###
# NOTE: Castle, City, and Temple are for Chaos Dwarfs, Tribal for Hobgoblins

# # Chaos Dwarf Fortress # #
# Builds "tall" (or perhaps "deep")
# Emphasize Dawi Zharr warrior caste

castle = {

    #Castle Walls
    #use vanilla ca_wall

    #Slave attendants
    #replace Castle Town
    #less money and no court size bonus (small numbers) but helps CD warriors
    ca_cd_slave_attendants_1 = {
      desc = ca_cd_slave_attendants_desc
      potential = {
        chaos_dwarf_building_trigger = yes
      }
      replaces = ca_town_1
      trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
      gold_cost = 80
      build_time = 730
      tax_income = 2
      heavy_infantry_morale = 0.05

      ai_creation_factor = 97
      extra_tech_building_start = 0.5
    }

    ca_cd_slave_attendants_2 = {
      desc = ca_cd_slave_attendants_desc
      potential = {
        chaos_dwarf_building_trigger = yes
      }
      replaces = ca_town_2
      trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
      upgrades_from = ca_cd_slave_attendants_1
      gold_cost = 100
      build_time = 912
      tax_income = 2
      heavy_infantry_morale = 0.05

      ai_creation_factor = 97
      extra_tech_building_start = 1.5
    }

    ca_cd_slave_attendants_3 = {
      desc = ca_cd_slave_attendants_desc
      potential = {
        chaos_dwarf_building_trigger = yes
      }
      replaces = ca_town_3
      trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
      upgrades_from = ca_cd_slave_attendants_2
      gold_cost = 150
      build_time = 1095
      tax_income = 2
      heavy_infantry_morale = 0.05

      ai_creation_factor = 97
      extra_tech_building_start = 1.5
    }

    ca_cd_slave_attendants_4 = {
      desc = ca_cd_slave_attendants_desc
      potential = {
        chaos_dwarf_building_trigger = yes
      }
      replaces = ca_town_4
      trigger = { TECH_CASTLE_CONSTRUCTION = 4 }
      upgrades_from = ca_cd_slave_attendants_3
      gold_cost = 250
      build_time = 1460
      tax_income = 2
      heavy_infantry_morale = 0.05

      ai_creation_factor = 97
      extra_tech_building_start = 1.5
    }

    ca_cd_slave_attendants_5 = {
      desc = ca_cd_slave_attendants_desc
      potential = {
        chaos_dwarf_building_trigger = yes
      }
      replaces = ca_town_5
      trigger = { TECH_CASTLE_CONSTRUCTION = 5 }
      upgrades_from = ca_cd_slave_attendants_4
      gold_cost = 350
      build_time = 2555
      tax_income = 2
      heavy_infantry_morale = 0.05

      ai_creation_factor = 97
      extra_tech_building_start = 1.5
    }

    ca_cd_slave_attendants_6 = {
      desc = ca_cd_slave_attendants_desc
      potential = {
        chaos_dwarf_building_trigger = yes
      }
      replaces = ca_town_6
      trigger = { TECH_CASTLE_CONSTRUCTION = 6 }
      upgrades_from = ca_cd_slave_attendants_5
      gold_cost = 450
      build_time = 2555
      tax_income = 2
      heavy_infantry_morale = 0.05

      ai_creation_factor = 97
      extra_tech_building_start = 3
    }

    ca_cd_slave_attendants_7 = {
      desc = ca_cd_slave_attendants_desc
      potential = {
        chaos_dwarf_building_trigger = yes
      }
      trigger = { TECH_CASTLE_CONSTRUCTION = 7 }
      upgrades_from = ca_cd_slave_attendants_6
      gold_cost = 500
      build_time = 2920
      tax_income = 2
      heavy_infantry_morale = 0.05

      ai_creation_factor = 97
      extra_tech_building_start = 3
    }

    ca_cd_slave_attendants_8 = {
      desc = ca_cd_slave_attendants_desc
      potential = {
        chaos_dwarf_building_trigger = yes
      }
      trigger = { TECH_CASTLE_CONSTRUCTION = 8 }
      upgrades_from = ca_cd_slave_attendants_7
      gold_cost = 600
      build_time = 2920
      tax_income = 2
      heavy_infantry_morale = 0.05

      ai_creation_factor = 97
      extra_tech_building_start = 3
    }

    ca_chaos_dwarf_ziggurat_1 = {
	    desc = ca_chaos_dwarf_ziggurat_1_desc
		potential = {
		          FROM = { culture_group = dawi_zharr_group }
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
		replaces = ca_keep_1
		gold_cost = 150
		build_time = 265
		fort_level = 3.0
		garrison_size = 0.03
		levy_size = 0.05
		retinuesize = 20
		heavy_infantry = 50
		light_cavalry = 75
		gunpowder = 40
		levy_reinforce_rate = 1.00
		ai_creation_factor = 300 #The AI should always build this when it can

		extra_tech_building_start = 1.0
	}
	ca_chaos_dwarf_ziggurat_2 = {
	    desc = ca_chaos_dwarf_ziggurat_1_desc
		potential = {
		          FROM = { culture_group = dawi_zharr_group }
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
		prerequisites = { ca_wall_1 }
		replaces = ca_keep_2
		upgrades_from = ca_chaos_dwarf_ziggurat_1
		gold_cost = 200
		build_time = 620
		fort_level = 3.0
		garrison_size = 0.06
		levy_size = 0.1
		retinuesize = 20
		ai_creation_factor = 101

		extra_tech_building_start = 2.0
	}
	ca_chaos_dwarf_ziggurat_3 = {
	    desc = ca_chaos_dwarf_ziggurat_1_desc
		potential = {
		          FROM = { culture_group = dawi_zharr_group }
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
		prerequisites = { ca_wall_2 }
		replaces = ca_keep_3
		upgrades_from = ca_chaos_dwarf_ziggurat_2
		gold_cost = 300
		build_time = 875
		fort_level = 3.0
		garrison_size = 0.09
		levy_size = 0.15
		retinuesize = 20
		ai_creation_factor = 100

		extra_tech_building_start = 1.0
	}
	ca_chaos_dwarf_ziggurat_4 = {
	    desc = ca_chaos_dwarf_ziggurat_1_desc
		potential = {
		          FROM = { culture_group = dawi_zharr_group }
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 4 }
		replaces = ca_keep_4
		upgrades_from = ca_chaos_dwarf_ziggurat_3
		gold_cost = 400
		build_time = 1265
		fort_level = 3.0
		garrison_size = 0.12
		levy_size = 0.20
		retinuesize = 20
		ai_creation_factor = 100

		extra_tech_building_start = 0.2
	}
	ca_chaos_dwarf_ziggurat_5 = {
	    desc = ca_chaos_dwarf_ziggurat_1_desc
		potential = {
		          FROM = { culture_group = dawi_zharr_group }
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 6 }
		replaces = ca_keep_5
		upgrades_from = ca_chaos_dwarf_ziggurat_4
		gold_cost = 500
		build_time = 1852
		fort_level = 3.0
		garrison_size = 0.15
		levy_size = 0.25
		retinuesize = 20
		ai_creation_factor = 100

		extra_tech_building_start = 0.2
	}
	ca_chaos_dwarf_ziggurat_6 = {
	    desc = ca_chaos_dwarf_ziggurat_1_desc
		potential = {
		          FROM = { culture_group = dawi_zharr_group }
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 8 }
		replaces = ca_keep_6
		upgrades_from = ca_chaos_dwarf_ziggurat_5
		gold_cost = 600
		build_time = 1852
		fort_level = 3.0
		garrison_size = 0.18
		levy_size = 0.30
		retinuesize = 20
		ai_creation_factor = 100

		extra_tech_building_start = 0.2
	}

	ca_chaos_dwarf_barracks_1 = {
		desc = ca_chaos_dwarf_barracks_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
		replaces = ca_barracks_1
		gold_cost = 100
		build_time = 365
		heavy_infantry = 180
		gunpowder = 35
		ai_creation_factor = 105

		extra_tech_building_start = 1.0
	}
	ca_chaos_dwarf_barracks_2 = {
		desc = ca_chaos_dwarf_barracks_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
		prerequisites = { ca_wall_1 }
		upgrades_from = ca_chaos_dwarf_barracks_1
		replaces = ca_barracks_2
		gold_cost = 120
		build_time = 547
		heavy_infantry = 140
		gunpowder = 15
		ai_creation_factor = 104

		extra_tech_building_start = 1.8
	}
	ca_chaos_dwarf_barracks_3 = {
		desc = ca_chaos_dwarf_barracks_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 1 }
		prerequisites = { ca_wall_2 }
		upgrades_from = ca_chaos_dwarf_barracks_2
		replaces = ca_barracks_3
		gold_cost = 200
		build_time = 730
		heavy_infantry = 145
		gunpowder = 20
		ai_creation_factor = 103

		extra_tech_building_start = 3.0
	}
	ca_chaos_dwarf_barracks_4 = {
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		desc = ca_chaos_dwarf_barracks_1_desc
		trigger = { TECH_CASTLE_CONSTRUCTION = 3 }
		upgrades_from = ca_chaos_dwarf_barracks_3
		replaces = ca_barracks_4
		gold_cost = 300
		build_time = 1095
		heavy_infantry = 150
		gunpowder = 25
		ai_creation_factor = 102

		extra_tech_building_start = 3.0
	}
	ca_chaos_dwarf_barracks_5 = {
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		desc = ca_chaos_dwarf_barracks_1_desc
		trigger = { TECH_CASTLE_CONSTRUCTION = 5 }
		upgrades_from = ca_chaos_dwarf_barracks_4
		replaces = ca_barracks_5
		gold_cost = 400
		build_time = 2190
		heavy_infantry = 85
		gunpowder = 30
		ai_creation_factor = 101

		extra_tech_building_start = 2.0
	}
	ca_chaos_dwarf_barracks_6 = {
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		desc = ca_chaos_dwarf_barracks_1_desc
		trigger = { TECH_CASTLE_CONSTRUCTION = 7 }
		upgrades_from = ca_chaos_dwarf_barracks_5
		replaces = ca_barracks_6
		gold_cost = 500
		build_time = 2190
		heavy_infantry = 100
		gunpowder = 35
		ai_creation_factor = 100

		extra_tech_building_start = 0.2
	}

	ca_chaos_dwarf_fireglaives_1 = {
		desc = ca_chaos_dwarf_fireglaives_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
		gold_cost = 100
		build_time = 365
		gunpowder = 140
		heavy_infantry = 30
		ai_creation_factor = 105

		extra_tech_building_start = 1.0
	}
	ca_chaos_dwarf_fireglaives_2 = {
		desc = ca_chaos_dwarf_fireglaives_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
		prerequisites = { ca_wall_1 }
		upgrades_from = ca_chaos_dwarf_fireglaives_1
		gold_cost = 120
		build_time = 547
		gunpowder = 95
		heavy_infantry = 10
		ai_creation_factor = 104

		extra_tech_building_start = 1.8
	}
	ca_chaos_dwarf_fireglaives_3 = {
		desc = ca_chaos_dwarf_fireglaives_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 1 }
		prerequisites = { ca_wall_2 }
		upgrades_from = ca_chaos_dwarf_fireglaives_2
		gold_cost = 200
		build_time = 730
		gunpowder = 110
		heavy_infantry = 20
		ai_creation_factor = 103

		extra_tech_building_start = 3.0
	}
	ca_chaos_dwarf_fireglaives_4 = {
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		desc = ca_chaos_dwarf_fireglaives_1_desc
		trigger = { TECH_CASTLE_CONSTRUCTION = 3 }
		upgrades_from = ca_chaos_dwarf_fireglaives_3
		gold_cost = 300
		build_time = 1095
		gunpowder = 125
		heavy_infantry = 25
		ai_creation_factor = 102

		extra_tech_building_start = 3.0
	}
	ca_chaos_dwarf_fireglaives_5 = {
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		desc = ca_chaos_dwarf_fireglaives_1_desc
		trigger = { TECH_CASTLE_CONSTRUCTION = 5 }
		upgrades_from = ca_chaos_dwarf_fireglaives_4
		gold_cost = 400
		build_time = 2190
		gunpowder = 70
		heavy_infantry = 30
		ai_creation_factor = 101

		extra_tech_building_start = 2.0
	}
	ca_chaos_dwarf_fireglaives_6 = {
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		desc = ca_chaos_dwarf_fireglaives_1_desc
		trigger = { TECH_CASTLE_CONSTRUCTION = 7 }
		upgrades_from = ca_chaos_dwarf_fireglaives_5
		gold_cost = 500
		build_time = 2190
		gunpowder = 90
		heavy_infantry = 35
		ai_creation_factor = 100

		extra_tech_building_start = 0.2
	}

	ca_hobgoblin_tents_1 = {
		desc = ca_hobgoblin_tents_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
		replaces = ca_stable_1
		gold_cost = 100
		build_time = 365
		light_cavalry = 50
		light_cavalry_morale = -0.25 #They are Goblins after all
		garrison_size = -0.05 #Counterbalance for insane garrison sizes
		ai_creation_factor = 89

		extra_tech_building_start = 0.4
	}
	ca_hobgoblin_tents_2 = {
		desc = ca_hobgoblin_tents_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
		prerequisites = { ca_wall_1 }
		upgrades_from = ca_hobgoblin_tents_1
		replaces = ca_stable_2
		gold_cost = 120
		build_time = 547
		light_cavalry = 60
		garrison_size = -0.05 #Counterbalance for insane garrison sizes
		ai_creation_factor = 88

		extra_tech_building_start = 0.8
	}
	ca_hobgoblin_tents_3 = {
		desc = ca_hobgoblin_tents_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
		replaces = ca_stable_3
		prerequisites = { ca_wall_2 }
		upgrades_from = ca_hobgoblin_tents_2
		gold_cost = 200
		build_time = 730
		light_cavalry = 70
		garrison_size = -0.05 #Counterbalance for insane garrison sizes
		ai_creation_factor = 87

		extra_tech_building_start = 0.2
	}
	ca_hobgoblin_tents_4 = {
		desc = ca_hobgoblin_tents_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 4 }
		replaces = ca_stable_4
		upgrades_from = ca_hobgoblin_tents_3
		gold_cost = 300
		build_time = 1095
		light_cavalry = 80
		garrison_size = -0.05 #Counterbalance for insane garrison sizes
		ai_creation_factor = 86

		extra_tech_building_start = 0.2
	}
	ca_hobgoblin_tents_5 = {
		desc = ca_hobgoblin_tents_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 6 }
		replaces = ca_stable_5
		upgrades_from = ca_hobgoblin_tents_4
		gold_cost = 400
		build_time = 2190
		light_cavalry = 90
		garrison_size = -0.05 #Counterbalance for insane garrison sizes
		ai_creation_factor = 85

		extra_tech_building_start = 0.2
	}
	ca_hobgoblin_tents_6 = {
		desc = ca_hobgoblin_tents_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
			}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 8 }
		replaces = ca_stable_6
		upgrades_from = ca_hobgoblin_tents_5
		gold_cost = 500
		build_time = 2190
		light_cavalry = 100
		garrison_size = -0.05 #Counterbalance for insane garrison sizes
		ai_creation_factor = 85

		extra_tech_building_start = 0.2
	}

	ca_slave_pens_1 = {
		desc = ca_slave_pens_1_desc
		trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
		}
		}
		gold_cost = 100
		build_time = 365
		light_infantry = 105
		garrison_size = -0.03 #Counterbalance for insane garrison sizes

		extra_tech_building_start = 0.5
	}
	ca_slave_pens_2 = {
		desc = ca_slave_pens_1_desc
		trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
		}
		}
		prerequisites = { ca_wall_1 }
		upgrades_from = ca_slave_pens_1
		gold_cost = 120
		build_time = 547
		light_infantry = 110
		garrison_size = -0.03 #Counterbalance for insane garrison sizes

		extra_tech_building_start = 1.0
	}
	ca_slave_pens_3 = {
		desc = ca_slave_pens_1_desc
		trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
		}
		}
		prerequisites = { ca_wall_2 }
		upgrades_from = ca_slave_pens_2
		gold_cost = 200
		build_time = 730
		light_infantry = 115
		garrison_size = -0.03 #Counterbalance for insane garrison sizes

		extra_tech_building_start = 0.2
	}
	ca_slave_pens_4 = {
		desc = ca_slave_pens_1_desc
		trigger = { TECH_CASTLE_CONSTRUCTION = 4 }
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
		}
		}
		upgrades_from = ca_slave_pens_3
		gold_cost = 300
		build_time = 1095
		light_infantry = 115
		garrison_size = -0.03 #Counterbalance for insane garrison sizes

		extra_tech_building_start = 0.2
	}
	ca_slave_pens_5 = {
		desc = ca_slave_pens_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
		}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 6 }
		upgrades_from = ca_slave_pens_4
		gold_cost = 400
		build_time = 2190
		light_infantry = 120
		garrison_size = -0.03 #Counterbalance for insane garrison sizes

		extra_tech_building_start = 0.2
	}
	ca_slave_pens_6 = {
		desc = ca_slave_pens_1_desc
		potential = {
			FROM = {
				culture_group = dawi_zharr_group
		}
		}
		trigger = { TECH_CASTLE_CONSTRUCTION = 8 }
		upgrades_from = ca_slave_pens_5
		gold_cost = 500
		build_time = 2190
		light_infantry = 1120
		garrison_size = -0.03 #Counterbalance for insane garrison sizes

		extra_tech_building_start = 0.2
	}

	ca_cdshipyard_1 = {
		desc = ca_cdshipyard_desc
		port = yes
		trigger = { TECH_NAVAL = 1 }
		potential = {
			culture_group = dawi_zharr_group
		}
		replaces = ca_shipyard_1
		gold_cost = 100
		build_time = 365
		galleys = 11
		ai_creation_factor = 100

		extra_tech_building_start = 0.2
	}

	ca_cdshipyard_2 = {
		desc = ca_cdshipyard_desc
		port = yes
		trigger = { TECH_NAVAL = 2 }
		potential = {
			culture_group = dawi_zharr_group
		}
		upgrades_from = ca_cdshipyard_1
		replaces = ca_shipyard_2
		gold_cost = 100
		build_time = 730
		galleys = 15
		ai_creation_factor = 99

		extra_tech_building_start = 0.2
	}

	ca_cdshipyard_3 = {
		desc = ca_cdshipyard_desc
		port = yes
		trigger = { TECH_NAVAL = 3 }
		potential = {
			culture_group = dawi_zharr_group
		}
		upgrades_from = ca_cdshipyard_2
		replaces = ca_shipyard_3
		gold_cost = 100
		build_time = 1095
		galleys = 19
		ai_creation_factor = 98

		extra_tech_building_start = 0.2
	}

	ca_cdshipyard_4 = {
		desc = ca_cdshipyard_desc
		port = yes
		trigger = { TECH_NAVAL = 4 }
		potential = {
			culture_group = dawi_zharr_group
		}
		upgrades_from = ca_cdshipyard_3
		replaces = ca_shipyard_4
		gold_cost = 100
		build_time = 1460
		galleys = 23
		ai_creation_factor = 97

		extra_tech_building_start = 0.2
	}

}

#Chaos Dwarf City
#Industrial hellscape, full of people - mostly slaves
#Levies are dominated by ranged troops and artillery, and lack staying power
#Faction identity means cheaper but slower building and longer build lines
#Theoretically has a lot of late game power but probably a bad investment vs. conquering more land

city = {

  #uses Guardians of the Hearth any_dwarf fortification building

  #uses vanilla walls

  # Slave Market - replaces Arsenal
  # economic building because the slaver clans aren't much of a military power
  ct_chaos_dwarf_slave_market_1 = {
    desc = ct_chaos_dwarf_slave_market_desc
    potential = {
      FROM = {
        capital_holding = {
          title = FROMFROM
        }
        is_merchant_republic = yes
      }
      chaos_dwarf_building_trigger = yes
    }
    replaces = ct_rep_arsenal_1
    trigger = { TECH_CITY_CONSTRUCTION = 1 }
    gold_cost = 150
    build_time = 1825

    tax_income = 3
    tradevalue = 25
    galleys = 10

    ai_creation_factor = 97
    extra_tech_building_start = 0.5
  }

  ct_chaos_dwarf_slave_market_2 = {
    desc = ct_chaos_dwarf_slave_market_desc
    potential = {
      FROM = {
        capital_holding = {
          title = FROMFROM
        }
        is_merchant_republic = yes
      }
      chaos_dwarf_building_trigger = yes
    }
    replaces = ct_rep_arsenal_2
    trigger = { TECH_CITY_CONSTRUCTION = 3 }
    upgrades_from = ct_chaos_dwarf_slave_market_1
    gold_cost = 200
    build_time = 1825

    tax_income = 3
    tradevalue = 25
    galleys = 10

    ai_creation_factor = 97
    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_slave_market_3 = {
    desc = ct_chaos_dwarf_slave_market_desc
    potential = {
      FROM = {
        capital_holding = {
          title = FROMFROM
        }
        is_merchant_republic = yes
      }
      chaos_dwarf_building_trigger = yes
    }
    replaces = ct_rep_arsenal_3
    trigger = { TECH_CITY_CONSTRUCTION = 5 }
    upgrades_from = ct_chaos_dwarf_slave_market_2
    gold_cost = 250
    build_time = 1825

    tax_income = 3
    tradevalue = 25
    galleys = 10

    ai_creation_factor = 97
    extra_tech_building_start = 3.5
  }

  ct_chaos_dwarf_slave_market_4 = {
    desc = ct_chaos_dwarf_slave_market_desc
    potential = {
      FROM = {
        capital_holding = {
          title = FROMFROM
        }
        is_merchant_republic = yes
      }
      chaos_dwarf_building_trigger = yes
    }
    trigger = { TECH_CITY_CONSTRUCTION = 8 }
    upgrades_from = ct_chaos_dwarf_slave_market_3
    gold_cost = 400
    build_time = 1825

    tax_income = 3
    tradevalue = 25
    galleys = 10

    ai_creation_factor = 97
    extra_tech_building_start = 3.5
  }

  # Tenement buildings
  # huge garrisons and added fort level because cities have such a big population, limited levies
  # overall weaker than vanilla because levy size is a more significant modifier
  # doesn't need a levy-correction stage because LI/A = hobgoblins
	ct_chaos_dwarf_ziggurat_keep_1 = {
		desc = ct_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 0 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
		replaces = ct_training_grounds_1
    gold_cost = 120
		build_time = 730
		fort_level = 0.25
		levy_size = 0.025
		garrison_size = 0.25
		ai_creation_factor = 300 #The AI should always build this when it can
		add_number_to_name = no
		extra_tech_building_start = 0.5
	}
	ct_chaos_dwarf_ziggurat_keep_2 = {
		desc = ct_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 0 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
		prerequisites = { ct_chaos_dwarf_ziggurat_walls_1 }
		upgrades_from = ct_chaos_dwarf_ziggurat_keep_1
		replaces = tp_ct_training_grounds_2
		gold_cost = 150
		build_time = 1095
    fort_level = 0.25
		levy_size = 0.05
		garrison_size = 0.3
		ai_creation_factor = 95
		add_number_to_name = no

		extra_tech_building_start = 1.5
	}
	ct_chaos_dwarf_ziggurat_keep_3 = {
		desc = ct_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 2 }
    prerequisites = { ct_wall_2 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
		upgrades_from = ct_chaos_dwarf_ziggurat_keep_2
		replaces = ct_training_grounds_3
		gold_cost = 250
		build_time = 1460
		fort_level = 0.25
		levy_size = 0.075
		garrison_size = 0.35
		ai_creation_factor = 94
		add_number_to_name = no

		extra_tech_building_start = 1.5
	}
	ct_chaos_dwarf_ziggurat_keep_4 = {
		desc = ct_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 4 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
		upgrades_from = ct_chaos_dwarf_ziggurat_keep_3
		replaces = ct_training_grounds_4
		gold_cost = 350
		build_time = 1825
		fort_level = 0.25
		levy_size = 0.1
		garrison_size = 0.4
		ai_creation_factor = 93
		add_number_to_name = no

		extra_tech_building_start = 1.5
	}
	ct_chaos_dwarf_ziggurat_keep_5 = {
		desc = ct_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 5 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
		upgrades_from = ct_chaos_dwarf_ziggurat_keep_4
		replaces = ct_training_grounds_5
		gold_cost = 450
		build_time = 2555
		fort_level = 0.5
		levy_size = 0.125
		garrison_size = 0.5
		ai_creation_factor = 92
		add_number_to_name = no

		extra_tech_building_start = 1.5
	}
	ct_chaos_dwarf_ziggurat_keep_6 = {
		desc = ct_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 6 }
    prerequisites = { ct_wall_4 }
		potential = {
	     chaos_dwarf_building_trigger = yes
		}
		upgrades_from = ct_chaos_dwarf_ziggurat_keep_5
		replaces = ct_training_grounds_6
		gold_cost = 450
		build_time = 2555
		fort_level = 0.5
		levy_size = 0.125
		garrison_size = 0.5
		ai_creation_factor = 91
		add_number_to_name = no

		extra_tech_building_start = 3
	}
  ct_chaos_dwarf_ziggurat_keep_7 = {
		desc = ct_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 7 }
		potential = {
	     chaos_dwarf_building_trigger = yes
		}
		upgrades_from = ct_chaos_dwarf_ziggurat_keep_6
		gold_cost = 500
		build_time = 2920
		fort_level = 0.5
		levy_size = 0.15
		garrison_size = 0.6
		ai_creation_factor = 91
		add_number_to_name = no

		extra_tech_building_start = 3
	}
  ct_chaos_dwarf_ziggurat_keep_8 = {
		desc = ct_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 8 }
		potential = {
	     chaos_dwarf_building_trigger = yes
		}
		upgrades_from = ct_chaos_dwarf_ziggurat_keep_7
		gold_cost = 500
		build_time = 2920
		fort_level = 0.5
		levy_size = 0.15
		garrison_size = 0.6
		ai_creation_factor = 91
		add_number_to_name = no

		extra_tech_building_start = 3
	}

  #Hobgoblin overseers
  #replaces city barracks, overall slightly stronger levy
  #Light Infatry w/ 50% more troops, -25% morale (represents slave levies led by hobgoblins)
  #Archers as vanilla
  ct_chaos_dwarf_hobgoblin_overseers_1 = {
    desc = ct_chaos_dwarf_hobgoblin_overseers_desc
    trigger = { TECH_SKIRMISH = 0 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_barracks_1
    gold_cost = 80
    build_time = 730

    #morale penalty only applies once!
    light_infantry_morale = -0.25
    light_infantry = 90
    archers = 30

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 0.5
  }

  ct_chaos_dwarf_hobgoblin_overseers_2 = {
    desc = ct_chaos_dwarf_hobgoblin_overseers_desc
    trigger = { TECH_SKIRMISH = 0 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_barracks_2
    upgrades_from = ct_chaos_dwarf_hobgoblin_overseers_1
    gold_cost = 100
    build_time = 912

    light_infantry = 60
    archers = 70

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_hobgoblin_overseers_3 = {
    desc = ct_chaos_dwarf_hobgoblin_overseers_desc
    trigger = { TECH_SKIRMISH = 2 }
    prerequisites = { ct_wall_2 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_barracks_3
    upgrades_from = ct_chaos_dwarf_hobgoblin_overseers_2
    gold_cost = 150
    build_time = 1095

    light_infantry = 120
    archers = 50

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_hobgoblin_overseers_4 = {
    desc = ct_chaos_dwarf_hobgoblin_overseers_desc
    trigger = { TECH_SKIRMISH = 4 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_barracks_4
    upgrades_from = ct_chaos_dwarf_hobgoblin_overseers_3
    gold_cost = 250
    build_time = 1460

    light_infantry = 90
    archers = 90

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_hobgoblin_overseers_5 = {
    desc = ct_chaos_dwarf_hobgoblin_overseers_desc
    trigger = { TECH_SKIRMISH = 5 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_barracks_5
    upgrades_from = ct_chaos_dwarf_hobgoblin_overseers_4
    gold_cost = 350
    build_time = 2555

    light_infantry = 150
    archers = 70

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_hobgoblin_overseers_6 = {
    desc = ct_chaos_dwarf_hobgoblin_overseers_desc
    trigger = { TECH_SKIRMISH = 6 }
    prerequisites = { ct_wall_4 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_barracks_6
    upgrades_from = ct_chaos_dwarf_hobgoblin_overseers_5
    gold_cost = 450
    build_time = 2555

    light_infantry = 120
    archers = 110

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 3
  }

  ct_chaos_dwarf_hobgoblin_overseers_7 = {
    desc = ct_chaos_dwarf_hobgoblin_overseers_desc
    trigger = { TECH_SKIRMISH = 7 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    upgrades_from = ct_chaos_dwarf_hobgoblin_overseers_6
    gold_cost = 500
    build_time = 2920

    light_infantry = 180
    archers = 90

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 3
  }

  ct_chaos_dwarf_hobgoblin_overseers_8 = {
    desc = ct_chaos_dwarf_hobgoblin_overseers_desc
    trigger = { TECH_SKIRMISH = 8 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    upgrades_from = ct_chaos_dwarf_hobgoblin_overseers_7
    gold_cost = 600
    build_time = 2920

    light_infantry = 150
    archers = 130

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 3
  }

  #Hell Pit
  #replaces city guard building, refocused levy towards skirmish phase
  #replaces pikes with heavy infantry and artillery

  ct_chaos_dwarf_hell_pit_1 = {
    desc = ct_chaos_dwarf_hell_pit_desc
    trigger = { TECH_CITY_CONSTRUCTION = 0 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_guard_1
    gold_cost = 80
    build_time = 730

    heavy_infantry = 30
    artillery = 5

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 0.5
  }

  ct_chaos_dwarf_hell_pit_2 = {
    desc = ct_chaos_dwarf_hell_pit_desc
    trigger = { TECH_CITY_CONSTRUCTION = 0 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_guard_2
    upgrades_from = ct_chaos_dwarf_hell_pit_1
    gold_cost = 100
    build_time = 912

    heavy_infantry = 40
    artillery = 5

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_hell_pit_3 = {
    desc = ct_chaos_dwarf_hell_pit_desc
    trigger = { TECH_CITY_CONSTRUCTION = 2 }
    prerequisites = { ct_wall_2 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_guard_3
    upgrades_from = ct_chaos_dwarf_hell_pit_2
    gold_cost = 150
    build_time = 1095

    heavy_infantry = 50
    artillery = 5

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_hell_pit_4 = {
    desc = ct_chaos_dwarf_hell_pit_desc
    trigger = { TECH_CITY_CONSTRUCTION = 4 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_guard_4
    upgrades_from = ct_chaos_dwarf_hell_pit_3
    gold_cost = 250
    build_time = 1460

    heavy_infantry = 60
    artillery = 5

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_hell_pit_5 = {
    desc = ct_chaos_dwarf_hell_pit_desc
    trigger = { TECH_CITY_CONSTRUCTION = 5 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_guard_5
    upgrades_from = ct_chaos_dwarf_hell_pit_4
    gold_cost = 350
    build_time = 2555

    heavy_infantry = 70
    artillery = 5

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_hell_pit_6 = {
    desc = ct_chaos_dwarf_hell_pit_desc
    trigger = { TECH_CITY_CONSTRUCTION = 6 }
    prerequisites = { ct_wall_4 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    upgrades_from = ct_chaos_dwarf_hell_pit_5
    gold_cost = 450
    build_time = 2555

    heavy_infantry = 80
    artillery = 5

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 3
  }

  ct_chaos_dwarf_hell_pit_7 = {
    desc = ct_chaos_dwarf_hell_pit_desc
    trigger = { TECH_CITY_CONSTRUCTION = 7 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    upgrades_from = ct_chaos_dwarf_hell_pit_6
    gold_cost = 500
    build_time = 2920

    heavy_infantry = 90
    artillery = 5

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 3
  }

  ct_chaos_dwarf_hell_pit_8 = {
    desc = ct_chaos_dwarf_hell_pit_desc
    trigger = { TECH_CITY_CONSTRUCTION = 8 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    upgrades_from = ct_chaos_dwarf_hell_pit_7
    gold_cost = 600
    build_time = 2920

    heavy_infantry = 100
    artillery = 5

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 3
  }

  #Bloodsports
  #replaces marketplace
  #vanilla effect modified by faction identity
  ct_chaos_dwarf_bloodsports_1 = {
    desc = ct_chaos_dwarf_bloodsports_desc
    trigger = { TECH_MELEE = 0 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_marketplace_1
    gold_cost = 80
    build_time = 730

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 0.5
  }

  ct_chaos_dwarf_bloodsports_2 = {
    desc = ct_chaos_dwarf_bloodsports_desc
    trigger = { TECH_MELEE = 0 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_marketplace_2
    upgrades_from = ct_chaos_dwarf_bloodsports_1
    gold_cost = 100
    build_time = 912

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_bloodsports_3 = {
    desc = ct_chaos_dwarf_bloodsports_desc
    trigger = { TECH_MELEE = 2 }
    prerequisites = { ct_wall_2 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_marketplace_3
    upgrades_from = ct_chaos_dwarf_bloodsports_2
    gold_cost = 150
    build_time = 1095

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_bloodsports_4 = {
    desc = ct_chaos_dwarf_bloodsports_desc
    trigger = { TECH_MELEE = 4 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_marketplace_4
    upgrades_from = ct_chaos_dwarf_bloodsports_3
    gold_cost = 250
    build_time = 1460

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_bloodsports_5 = {
    desc = ct_chaos_dwarf_bloodsports_desc
    trigger = { TECH_MELEE = 5 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_marketplace_5
    upgrades_from = ct_chaos_dwarf_bloodsports_4
    gold_cost = 350
    build_time = 2555

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_bloodsports_6 = {
    desc = ct_chaos_dwarf_bloodsports_desc
    trigger = { TECH_MELEE = 6 }
    prerequisites = { ct_wall_4 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_marketplace_6
    upgrades_from = ct_chaos_dwarf_bloodsports_5
    gold_cost = 450
    build_time = 2555

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 3
  }

  ct_chaos_dwarf_bloodsports_7 = {
    desc = ct_chaos_dwarf_bloodsports_desc
    trigger = { TECH_MELEE = 7 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    upgrades_from = ct_chaos_dwarf_bloodsports_6
    gold_cost = 500
    build_time = 2920

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 3
  }

  ct_chaos_dwarf_bloodsports_8 = {
    desc = ct_chaos_dwarf_bloodsports_desc
    trigger = { TECH_MELEE = 8 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    upgrades_from = ct_chaos_dwarf_bloodsports_7
    gold_cost = 600
    build_time = 2920

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 3
  }


  #Loading Cranes
  #replaces port
  #vanilla effect modified by faction identity

  ct_chaos_dwarf_loadingcranes_1 = {
    desc = ct_chaos_dwarf_loadingcranes_desc
    trigger = { TECH_CONSTRUCTION = 0 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_port_1
    gold_cost = 80
    build_time = 730

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 0.5
  }

  ct_chaos_dwarf_loadingcranes_2 = {
    desc = ct_chaos_dwarf_loadingcranes_desc
    trigger = { TECH_CONSTRUCTION = 0 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_port_2
    upgrades_from = ct_chaos_dwarf_loadingcranes_1
    gold_cost = 100
    build_time = 912

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_loadingcranes_3 = {
    desc = ct_chaos_dwarf_loadingcranes_desc
    trigger = { TECH_CONSTRUCTION = 2 }
    prerequisites = { ct_wall_2 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_port_3
    upgrades_from = ct_chaos_dwarf_loadingcranes_2
    gold_cost = 150
    build_time = 1095

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_loadingcranes_4 = {
    desc = ct_chaos_dwarf_loadingcranes_desc
    trigger = { TECH_CONSTRUCTION = 4 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_port_4
    upgrades_from = ct_chaos_dwarf_loadingcranes_3
    gold_cost = 250
    build_time = 1460

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_loadingcranes_5 = {
    desc = ct_chaos_dwarf_loadingcranes_desc
    trigger = { TECH_CONSTRUCTION = 5 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    replaces = ct_port_5
    upgrades_from = ct_chaos_dwarf_loadingcranes_4
    gold_cost = 350
    build_time = 2555

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_loadingcranes_6 = {
    desc = ct_chaos_dwarf_loadingcranes_desc
    trigger = { TECH_CONSTRUCTION = 6 }
    prerequisites = { ct_wall_4 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    upgrades_from = ct_chaos_dwarf_loadingcranes_5
    gold_cost = 450
    build_time = 2555

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 3
  }

  ct_chaos_dwarf_loadingcranes_7 = {
    desc = ct_chaos_dwarf_loadingcranes_desc
    trigger = { TECH_CONSTRUCTION = 7 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    upgrades_from = ct_chaos_dwarf_loadingcranes_6
    gold_cost = 500
    build_time = 2920

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 3
  }

  ct_chaos_dwarf_loadingcranes_8 = {
    desc = ct_chaos_dwarf_loadingcranes_desc
    trigger = { TECH_CONSTRUCTION = 8 }
    potential = {
	     chaos_dwarf_building_trigger = yes
		}
    upgrades_from = ct_chaos_dwarf_loadingcranes_7
    gold_cost = 600
    build_time = 2920

    tax_income = 3

    ai_creation_factor = 98
    add_number_to_name = yes

    extra_tech_building_start = 3
  }

	ct_cdshipyard_1 = {
		desc = ct_cdshipyard_desc
		port = yes
		trigger = { TECH_NAVAL = 1 }
		potential = {
			culture_group = dawi_zharr_group
		}
		replaces = ct_shipyard_1
		gold_cost = 100
		build_time = 365
		galleys = 11
		ai_creation_factor = 100

		extra_tech_building_start = 0.2
	}

	ct_cdshipyard_2 = {
		desc = ct_cdshipyard_desc
		port = yes
		trigger = { TECH_NAVAL = 2 }
		potential = {
			culture_group = dawi_zharr_group
		}
		upgrades_from = ct_cdshipyard_1
		replaces = ct_shipyard_2
		gold_cost = 100
		build_time = 730
		galleys = 15
		ai_creation_factor = 99

		extra_tech_building_start = 0.2
	}

	ct_cdshipyard_3 = {
		desc = ct_cdshipyard_desc
		port = yes
		trigger = { TECH_NAVAL = 3 }
		potential = {
			culture_group = dawi_zharr_group
		}
		upgrades_from = ct_cdshipyard_2
		replaces = ct_shipyard_3
		gold_cost = 100
		build_time = 1095
		galleys = 19
		ai_creation_factor = 98

		extra_tech_building_start = 0.2
	}

	ct_cdshipyard_4 = {
		desc = ct_cdshipyard_desc
		port = yes
		trigger = { TECH_NAVAL = 4 }
		potential = {
			culture_group = dawi_zharr_group
		}
		upgrades_from = ct_cdshipyard_3
		replaces = ct_shipyard_4
		gold_cost = 100
		build_time = 1460
		galleys = 23
		ai_creation_factor = 97

		extra_tech_building_start = 0.2
	}

  #Steamworks
  #replaces university
  #less tech advantage (though recall that Chaos Dwarf rulers will tend to have a higher learning score)
  #adds more artillery troops
  ct_chaos_dwarf_steamworks_1 = {
    desc = ct_chaos_dwarf_steamworks_desc
    trigger = { TECH_CITY_CONSTRUCTION = 1 }
    potential = {
      chaos_dwarf_building_trigger = yes
    }
    replaces = ct_university_1

    gold_cost = 500
    build_time = 1460

    artillery = 15
    economy_techpoints = 0.02

    ai_creation_factor = 91
    extra_tech_building_start = 0.5
  }

  ct_chaos_dwarf_steamworks_2 = {
    desc = ct_chaos_dwarf_steamworks_desc
    trigger = { TECH_CITY_CONSTRUCTION = 3 }
    potential = {
      chaos_dwarf_building_trigger = yes
    }
    replaces = ct_university_2
    upgrades_from = ct_chaos_dwarf_steamworks_1

    gold_cost = 700
    build_time = 2555

    artillery = 15
    economy_techpoints = 0.02

    ai_creation_factor = 91
    extra_tech_building_start = 1.5
  }

  ct_chaos_dwarf_steamworks_3 = {
    desc = ct_chaos_dwarf_steamworks_desc
    trigger = { TECH_CITY_CONSTRUCTION = 5 }
    potential = {
      chaos_dwarf_building_trigger = yes
    }
    replaces = ct_university_3
    upgrades_from = ct_chaos_dwarf_steamworks_2

    gold_cost = 700
    build_time = 2555

    artillery = 15
    economy_techpoints = 0.02

    ai_creation_factor = 91
    extra_tech_building_start = 2.5
  }

  ct_chaos_dwarf_steamworks_4 = {
    desc = ct_chaos_dwarf_steamworks_desc
    trigger = { TECH_CITY_CONSTRUCTION = 7 }
    potential = {
      chaos_dwarf_building_trigger = yes
    }
    upgrades_from = ct_chaos_dwarf_steamworks_3

    gold_cost = 700
    build_time = 2555

    artillery = 15
    economy_techpoints = 0.02

    ai_creation_factor = 91
    extra_tech_building_start = 3
  }
}

temple = {

  #uses vanilla walls

  #uses any_dwarf Dwarfwrought Walls fortification building

  #Temple Building
  #longer build times, lower gold cost, longer overall line
  #Gameplay "settlement" building. Notional cost and build time, adjusts to lore-friendly levy type
	tp_chaos_dwarf_ziggurat_keep_1 = {
		desc = tp_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 0 }
		potential = {
			chaos_dwarf_building_trigger = yes
		}
		replaces = tp_monastery_1
    prestige_cost = 1
    build_time = 1
    fort_level = 2
    archers = -40
    light_infantry = -45
    knights = 25
		ai_creation_factor = 300 #The AI should always build this when it can
		add_number_to_name = no
		liege_piety = 0.05
		extra_tech_building_start = 1.0
	}
  #First "real" level of the line
	tp_chaos_dwarf_ziggurat_keep_2 = {
		desc = tp_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 0 }
		potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_ziggurat_keep_1
		replaces = tp_monastery_2
		gold_cost = 120
		build_time = 730
		levy_size = 0.05
		garrison_size = 0.05
    liege_piety = 0.05

		add_number_to_name = no

    ai_creation_factor = 95
		extra_tech_building_start = 0.5
	}

  tp_chaos_dwarf_ziggurat_keep_3 = {
		desc = tp_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 0 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_ziggurat_keep_2
		replaces = tp_monastery_2
		gold_cost = 150
		build_time = 1095
		levy_size = 0.075
		garrison_size = 0.10
    liege_piety = 0.05

		add_number_to_name = no

    ai_creation_factor = 95
		extra_tech_building_start = 1.5
	}

  tp_chaos_dwarf_ziggurat_keep_4 = {
		desc = tp_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 2 }
    prerequisites = { tp_wall_2 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_ziggurat_keep_3
		replaces = tp_monastery_3
		gold_cost = 250
		build_time = 1460
		levy_size = 0.1
		garrison_size = 0.15
    liege_piety = 0.05

		add_number_to_name = no

    ai_creation_factor = 95
		extra_tech_building_start = 1.5
	}

  tp_chaos_dwarf_ziggurat_keep_5 = {
		desc = tp_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 4 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_ziggurat_keep_4
		replaces = tp_monastery_4
		gold_cost = 350
		build_time = 1825
		levy_size = 0.125
		garrison_size = 0.2
    liege_piety = 0.05

		add_number_to_name = no

    ai_creation_factor = 95
		extra_tech_building_start = 1.5
	}

  tp_chaos_dwarf_ziggurat_keep_6 = {
		desc = tp_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 5 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_ziggurat_keep_5
		replaces = tp_monastery_5
		gold_cost = 450
		build_time = 2555
		levy_size = 0.15
		garrison_size = 0.25
    liege_piety = 0.05

		add_number_to_name = no

    ai_creation_factor = 95
		extra_tech_building_start = 1.5
	}

  tp_chaos_dwarf_ziggurat_keep_7 = {
		desc = tp_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 6 }
    prerequisites = { tp_wall_4 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_ziggurat_keep_6
		replaces = tp_monastery_6
		gold_cost = 450
		build_time = 2555
		levy_size = 0.15
		garrison_size = 0.25
    liege_piety = 0.05

		add_number_to_name = no

    ai_creation_factor = 95
		extra_tech_building_start = 3
	}

  tp_chaos_dwarf_ziggurat_keep_8 = {
		desc = tp_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 7 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_ziggurat_keep_7
		gold_cost = 500
		build_time = 2920
		levy_size = 0.20
		garrison_size = 0.30
    liege_piety = 0.05

		add_number_to_name = no

    ai_creation_factor = 95
		extra_tech_building_start = 3
	}

  tp_chaos_dwarf_ziggurat_keep_9 = {
		desc = tp_chaos_dwarf_ziggurat_keep_1_desc
		trigger = { TECH_CITY_CONSTRUCTION = 8 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_ziggurat_keep_8
		gold_cost = 500
		build_time = 2920
		levy_size = 0.20
		garrison_size = 0.30
    liege_piety = 0.05

		add_number_to_name = no

    ai_creation_factor = 95
		extra_tech_building_start = 3
	}

  #barracks replacement
  #provides Zealot Berzerkers, wonderfully mad ladz who the mod should not be without
  tp_chaos_dwarf_barracks_1 = {
		desc = tp_chaos_dwarf_barracks_1_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 0 }
    prerequisites = { tp_chaos_dwarf_ziggurat_keep_1 }
		replaces = tp_barracks_1
		gold_cost = 80
		build_time = 730
		light_infantry = 100
    light_infantry_morale = 0.125
		ai_creation_factor = 105

		extra_tech_building_start = 0.5
	}
	tp_chaos_dwarf_barracks_2 = {
		desc = tp_chaos_dwarf_barracks_1_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 0 }
		prerequisites = { tp_wall_1 }
		replaces = tp_barracks_2
		upgrades_from = tp_chaos_dwarf_barracks_1
		gold_cost = 100
		build_time = 912
		light_infantry = 125
    light_infantry_morale = 0.125
		ai_creation_factor = 104

		extra_tech_building_start = 1.5
	}
	tp_chaos_dwarf_barracks_3 = {
		desc = tp_chaos_dwarf_barracks_1_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 2 }
		prerequisites = { tp_wall_2 }
		replaces = tp_barracks_3
		upgrades_from = tp_chaos_dwarf_barracks_2
		gold_cost = 150
		build_time = 1095
		light_infantry = 150
    light_infantry_morale = 0.125
		ai_creation_factor = 103

		extra_tech_building_start = 1.5
	}
	tp_chaos_dwarf_barracks_4 = {
		desc = tp_chaos_dwarf_barracks_1_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
    replaces = tp_barracks_4
		trigger = { TECH_CITY_CONSTRUCTION = 4 }
		upgrades_from = tp_chaos_dwarf_barracks_3
		gold_cost = 250
		build_time = 1460
		light_infantry = 175
    light_infantry_morale = 0.125
		ai_creation_factor = 102

		extra_tech_building_start = 1.5
	}
	tp_chaos_dwarf_barracks_5 = {
		desc = tp_chaos_dwarf_barracks_1_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 5 }
		upgrades_from = tp_chaos_dwarf_barracks_4
		replaces = tp_barracks_5
		gold_cost = 350
		build_time = 2555
    light_infantry = 200
    light_infantry_morale = 0.125
		ai_creation_factor = 101

		extra_tech_building_start = 1.5
	}
	tp_chaos_dwarf_barracks_6 = {
		desc = tp_chaos_dwarf_barracks_1_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 6 }
    prerequisites = { tp_wall_4 }
		upgrades_from = tp_chaos_dwarf_barracks_5
		replaces = tp_barracks_6
		gold_cost = 450
		build_time = 2555
    light_infantry = 225
    light_infantry_morale = 0.125
		ai_creation_factor = 100

		extra_tech_building_start = 3
	}
  tp_chaos_dwarf_barracks_7 = {
		desc = tp_chaos_dwarf_barracks_1_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 7 }
		upgrades_from = tp_chaos_dwarf_barracks_6
		gold_cost = 500
		build_time = 2920
    light_infantry = 250
    light_infantry_morale = 0.125
		ai_creation_factor = 100

		extra_tech_building_start = 3
	}
  tp_chaos_dwarf_barracks_8 = {
		desc = tp_chaos_dwarf_barracks_1_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 8 }
		upgrades_from = tp_chaos_dwarf_barracks_7
		gold_cost = 600
		build_time = 2920
    light_infantry = 275
    light_infantry_morale = 0.125
		ai_creation_factor = 100

		extra_tech_building_start = 3
	}

  #Immortals
  #Elite temple guardians. HI probably understates these guys
  #elite barracks replacement
  tp_chaos_dwarf_elite_barracks_1 = {
		desc = tp_chaos_dwarf_elite_barracks_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 0 }
    prerequisites = { tp_chaos_dwarf_ziggurat_keep_1 }
		replaces = tp_elite_barracks_1
		gold_cost = 80
		build_time = 730
		heavy_infantry = 45
		ai_creation_factor = 105

		extra_tech_building_start = 0.5
	}
	tp_chaos_dwarf_elite_barracks_2 = {
		desc = tp_chaos_dwarf_elite_barracks_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 0 }
		prerequisites = { tp_wall_1 }
		replaces = tp_elite_barracks_2
		upgrades_from = tp_chaos_dwarf_elite_barracks_1
		gold_cost = 100
		build_time = 912
		heavy_infantry = 55
		ai_creation_factor = 104

		extra_tech_building_start = 1.5
	}
	tp_chaos_dwarf_elite_barracks_3 = {
		desc = tp_chaos_dwarf_elite_barracks_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 2 }
		prerequisites = { tp_wall_2 }
		replaces = tp_elite_barracks_3
		upgrades_from = tp_chaos_dwarf_elite_barracks_2
		gold_cost = 150
		build_time = 1095
		heavy_infantry = 65
		ai_creation_factor = 103

		extra_tech_building_start = 1.5
	}
	tp_chaos_dwarf_elite_barracks_4 = {
		desc = tp_chaos_dwarf_elite_barracks_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
    replaces = tp_elite_barracks_4
		trigger = { TECH_CITY_CONSTRUCTION = 4 }
		upgrades_from = tp_chaos_dwarf_elite_barracks_3
		gold_cost = 250
		build_time = 1460
		heavy_infantry = 75
		ai_creation_factor = 102

		extra_tech_building_start = 1.5
	}
	tp_chaos_dwarf_elite_barracks_5 = {
		desc = tp_chaos_dwarf_elite_barracks_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 5 }
		upgrades_from = tp_chaos_dwarf_elite_barracks_4
		replaces = tp_elite_barracks_5
		gold_cost = 350
		build_time = 2555
    heavy_infantry = 85
		ai_creation_factor = 101

		extra_tech_building_start = 1.5
	}
	tp_chaos_dwarf_elite_barracks_6 = {
		desc = tp_chaos_dwarf_elite_barracks_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 6 }
    prerequisites = { tp_wall_4 }
		upgrades_from = tp_chaos_dwarf_elite_barracks_5
		replaces = tp_elite_barracks_6
		gold_cost = 450
		build_time = 2555
    heavy_infantry = 95
		ai_creation_factor = 100

		extra_tech_building_start = 3
	}
  tp_chaos_dwarf_elite_barracks_7 = {
		desc = tp_chaos_dwarf_elite_barracks_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 7 }
		upgrades_from = tp_chaos_dwarf_elite_barracks_6
		gold_cost = 500
		build_time = 2920
    heavy_infantry = 105
		ai_creation_factor = 100

		extra_tech_building_start = 3
	}
  tp_chaos_dwarf_elite_barracks_8 = {
		desc = tp_chaos_dwarf_elite_barracks_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		trigger = { TECH_CITY_CONSTRUCTION = 8 }
		upgrades_from = tp_chaos_dwarf_elite_barracks_7
		gold_cost = 600
		build_time = 2920
    heavy_infantry = 115
		ai_creation_factor = 100

		extra_tech_building_start = 3
	}

  #Bronze Roads
  #town replacement
  #current version breaks lore because CDs don't keep slaves in their temples this way
  tp_chaos_dwarf_bronze_roads_1 = {
		desc = tp_chaos_dwarf_bronze_roads_desc
		trigger = { TECH_CITY_CONSTRUCTION = 0 }
    prerequisites = { tp_chaos_dwarf_ziggurat_keep_1 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		replaces = tp_town_1
		gold_cost = 80
		build_time = 730
		tax_income = 2

		ai_creation_factor = 98

		extra_tech_building_start = 0.5
	}
	tp_chaos_dwarf_bronze_roads_2 = {
		desc = tp_chaos_dwarf_bronze_roads_desc
		trigger = { TECH_CITY_CONSTRUCTION = 0 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		replaces = tp_town_2
		upgrades_from = tp_chaos_dwarf_bronze_roads_1
		gold_cost = 100
		build_time = 912
		tax_income = 2

		ai_creation_factor = 96

		extra_tech_building_start = 1.5
	}
	tp_chaos_dwarf_bronze_roads_3 = {
		desc = tp_chaos_dwarf_bronze_roads_desc
		trigger = { TECH_CITY_CONSTRUCTION = 2 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		prerequisites = { tp_wall_2 }
		replaces = tp_town_3
		upgrades_from = tp_chaos_dwarf_bronze_roads_2
		gold_cost = 150
		build_time = 1095
		tax_income = 2

		ai_creation_factor = 95

		extra_tech_building_start = 1.5
	}
	tp_chaos_dwarf_bronze_roads_4 = {
		desc = tp_chaos_dwarf_bronze_roads_desc
		trigger = { TECH_CITY_CONSTRUCTION = 4 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_bronze_roads_3
		replaces = tp_town_4
		gold_cost = 250
		build_time = 1460
		tax_income = 2

		ai_creation_factor = 94

		extra_tech_building_start = 1.5
	}
	tp_chaos_dwarf_bronze_roads_5 = {
		desc = tp_chaos_dwarf_bronze_roads_desc
		trigger = { TECH_CITY_CONSTRUCTION = 5 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_bronze_roads_4
		replaces = tp_town_5
		gold_cost = 350
		build_time = 2555
		tax_income = 2

		ai_creation_factor = 93

		extra_tech_building_start = 1.5
	}
	tp_chaos_dwarf_bronze_roads_6 = {
		desc = tp_chaos_dwarf_bronze_roads_desc
		trigger = { TECH_CITY_CONSTRUCTION = 6 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_bronze_roads_5
		replaces = tp_town_6
    prerequisites = { tp_wall_4 }
		gold_cost = 450
		build_time = 2555
		tax_income = 2

		ai_creation_factor = 92

		extra_tech_building_start =3
	}
  tp_chaos_dwarf_bronze_roads_7 = {
		desc = tp_chaos_dwarf_bronze_roads_desc
		trigger = { TECH_CITY_CONSTRUCTION = 7 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_bronze_roads_6
		gold_cost = 500
		build_time = 2920
		tax_income = 2

		ai_creation_factor = 92

		extra_tech_building_start =3
	}
  tp_chaos_dwarf_bronze_roads_8 = {
		desc = tp_chaos_dwarf_bronze_roads_desc
		trigger = { TECH_CITY_CONSTRUCTION = 8 }
    potential = {
      chaos_dwarf_building_trigger = yes
		}
		upgrades_from = tp_chaos_dwarf_bronze_roads_7
		gold_cost = 500
		build_time = 2920
		tax_income = 2

		ai_creation_factor = 92

		extra_tech_building_start =3
	}

  #shipyard
  tp_cdshipyard_1 = {
		desc = tp_cdshipyard_desc
		port = yes
		trigger = { TECH_NAVAL = 1 }
    prerequisites = { tp_chaos_dwarf_ziggurat_keep_1 }
		potential = {
			culture_group = dawi_zharr_group
		}
		replaces = tp_shipyard_1
		gold_cost = 100
		build_time = 365
		galleys = 11
		ai_creation_factor = 100

		extra_tech_building_start = 0.2
	}

	tp_cdshipyard_2 = {
		desc = tp_cdshipyard_desc
		port = yes
		trigger = { TECH_NAVAL = 2 }
		potential = {
			culture_group = dawi_zharr_group
		}
		upgrades_from = tp_cdshipyard_1
		replaces = tp_shipyard_2
		gold_cost = 100
		build_time = 730
		galleys = 15
		ai_creation_factor = 99

		extra_tech_building_start = 0.2
	}

	tp_cdshipyard_3 = {
		desc = tp_cdshipyard_desc
		port = yes
		trigger = { TECH_NAVAL = 3 }
		potential = {
			culture_group = dawi_zharr_group
		}
		upgrades_from = tp_cdshipyard_2
		replaces = tp_shipyard_3
		gold_cost = 100
		build_time = 1095
		galleys = 19
		ai_creation_factor = 98

		extra_tech_building_start = 0.2
	}

	tp_cdshipyard_4 = {
		desc = tp_cdshipyard_desc
		port = yes
		trigger = { TECH_NAVAL = 4 }
		potential = {
			culture_group = dawi_zharr_group
		}
		upgrades_from = tp_cdshipyard_3
		replaces = tp_shipyard_4
		gold_cost = 100
		build_time = 1460
		galleys = 23
		ai_creation_factor = 97

		extra_tech_building_start = 0.2
	}

  #Sorcerer-Prophet Sanctum
  #K'daai and magic items. Enhance LI because Chaos Dwarfs have so many HI buffs
  #Requires Wonder Upgrade
	tp_chaos_dwarf_daemonsmith_1 = {
		desc = tp_chaos_dwarf_daemonsmith_desc
		potential = {
			chaos_dwarf_building_trigger = yes
      wonder = {
        has_wonder_upgrade = upgrade_great_hashut_temple
      }
		}
    trigger = { TECH_CITY_CONSTRUCTION = 2 }
    prerequisites = { tp_chaos_dwarf_ziggurat_keep_1 }
		gold_cost = 100
		build_time = 730

    war_elephants = 6
    light_infantry_offensive = 0.125
    light_infantry_defensive = 0.125

		ai_creation_factor = 93
		extra_tech_building_start = 0.5
	}

	tp_chaos_dwarf_daemonsmith_2 = {
		desc = tp_chaos_dwarf_daemonsmith_desc
		potential = {
			chaos_dwarf_building_trigger = yes
      wonder = {
        has_wonder_upgrade = upgrade_great_hashut_temple
      }
		}
    trigger = { TECH_CITY_CONSTRUCTION = 2 }
		prerequisites = { tp_wall_2 }
		upgrades_from = tp_chaos_dwarf_daemonsmith_1

		gold_cost = 150
		build_time = 730

    war_elephants = 10
    light_infantry_offensive = 0.125
    light_infantry_defensive = 0.125

		ai_creation_factor = 92
    extra_tech_building_start = 2.0
	}

	tp_chaos_dwarf_daemonsmith_3 = {
    desc = tp_chaos_dwarf_daemonsmith_desc
		potential = {
      chaos_dwarf_building_trigger = yes
      wonder = {
        has_wonder_upgrade = upgrade_great_hashut_temple
      }
		}
    trigger = { TECH_CITY_CONSTRUCTION = 4 }
    prerequisites = { tp_wall_3 }
    upgrades_from = tp_chaos_dwarf_daemonsmith_2

		gold_cost = 200
		build_time = 1095

    war_elephants = 14
    light_infantry_offensive = 0.125
    light_infantry_defensive = 0.125

		ai_creation_factor = 92
		extra_tech_building_start = 10.0
	}

	tp_chaos_dwarf_daemonsmith_4 = {
    desc = tp_chaos_dwarf_daemonsmith_desc
    potential = {
			chaos_dwarf_building_trigger = yes
      wonder = {
        has_wonder_upgrade = upgrade_great_hashut_temple
      }
		}
    trigger = { TECH_CITY_CONSTRUCTION = 6 }
    prerequisites = { tp_wall_4 }
		upgrades_from = tp_chaos_dwarf_daemonsmith_3

		gold_cost = 250
		build_time = 1095

    war_elephants = 20
    light_infantry_offensive = 0.125
    light_infantry_defensive = 0.125

		ai_creation_factor = 92
		extra_tech_building_start = 10.0
	}

  #Temple Guardians
  #Bull Centaurs
  #School replacement. I guess. Don't think too hard about it.
  tp_bull_centaur_barracks_1 = {
    desc = tp_bull_centaur_barracks_1_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
    replaces = tp_school_1
    trigger = { TECH_CASTLE_CONSTRUCTION = 0 }
    prerequisites = { tp_chaos_dwarf_ziggurat_keep_1 }
    gold_cost = 100
    build_time = 730
    knights = 35
    knights_offensive = 0.125
    knights_defensive = 0.125
    ai_creation_factor = 89

    extra_tech_building_start = 0.5
  }
  tp_bull_centaur_barracks_2 = {
    desc = tp_bull_centaur_barracks_1_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
    replaces = tp_school_2
    trigger = { TECH_CASTLE_CONSTRUCTION = 2 }
    prerequisites = { tp_wall_1 }
    upgrades_from = tp_bull_centaur_barracks_1
    gold_cost = 150
    build_time = 730
    knights = 45
    knights_offensive = 0.125
    knights_defensive = 0.125
    ai_creation_factor = 88

    extra_tech_building_start = 0.4
  }
  tp_bull_centaur_barracks_3 = {
    desc = tp_bull_centaur_barracks_1_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
    trigger = { TECH_CASTLE_CONSTRUCTION = 4 }
    prerequisites = { tp_wall_2 }
    upgrades_from = tp_bull_centaur_barracks_2
    gold_cost = 200
    build_time = 1095
    knights = 55
    knights_offensive = 0.125
    knights_defensive = 0.125
    ai_creation_factor = 87

    extra_tech_building_start = 0.2
  }
  tp_bull_centaur_barracks_4 = {
    desc = tp_bull_centaur_barracks_1_desc
    potential = {
      chaos_dwarf_building_trigger = yes
		}
    trigger = { TECH_CASTLE_CONSTRUCTION = 6 }
    upgrades_from = tp_bull_centaur_barracks_3
    gold_cost = 250
    build_time = 1095
    knights = 65
    knights_offensive = 0.125
    knights_defensive = 0.125
    ai_creation_factor = 86

    extra_tech_building_start = 0.2
  }

}

# # Servile Hobgoblin Work Camp # #
#"civilized" tribal with more money, no real retinue, light troops but solid forts & garrisons, and bonus trade value to harmonize with slave trader guild
#goes deeper into the tech tree than conventional tribes so the Satrapy system continues to make sense
#most buildings have gold_cost to represent their different character
#but NOTE exceptions to that rule

tribal = {

  #satrap billboard
  #unbuildable, included so that players looking to improve a tribal holding with buildings find help there
  tb_satrap_billboard = {
    desc = tb_satrap_billboard_desc
    potential = {
      FROM = {
        trait = creature_chaos_dwarf
      }
    }
    trigger = {
      custom_tooltip = {
        text = tb_satrap_billboard_tt
        always = no
      }
    }

    extra_tech_building_start = 16
  }


  #overseers - replaces tribal hillfort
  #long build time, more focused on fortification and garrisons
  tb_hobgoblin_overseers_1 = {
    desc = tb_hobgoblin_overseers_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }

    replaces = tb_hillfort_1
    trigger = {
      TECH_CASTLE_CONSTRUCTION = 0
    }
    gold_cost = 50
    build_time = 730

    fort_level = 1
    garrison_size = 0.25
    levy_size = 0.05

    ai_creation_factor = 97

    extra_tech_building_start = 0.3
  }

  tb_hobgoblin_overseers_2 = {
    desc = tb_hobgoblin_overseers_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = 	tb_hillfort_2
    trigger = {
      TECH_CASTLE_CONSTRUCTION = 1
    }
    upgrades_from = tb_hobgoblin_overseers_1
    gold_cost = 75
    build_time = 730

    fort_level = 1
    garrison_size = 0.25
    levy_size = 0.10

    ai_creation_factor = 98

    extra_tech_building_start = 0.8
  }

  tb_hobgoblin_overseers_3 = {
    desc = tb_hobgoblin_overseers_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }

    replaces = tb_hillfort_3
    trigger = {
      TECH_CASTLE_CONSTRUCTION = 2
    }
    upgrades_from = tb_hobgoblin_overseers_2
    gold_cost = 100
    build_time = 730

    fort_level = 1
    garrison_size = 0.25
    levy_size = 0.15

    ai_creation_factor = 98

    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_overseers_4 = {
    desc = tb_hobgoblin_overseers_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_hillfort_4
    trigger = {
      TECH_CASTLE_CONSTRUCTION = 4
    }
    upgrades_from = tb_hobgoblin_overseers_3
    gold_cost = 125
    build_time = 730

    fort_level = 1
    garrison_size = 0.25
    levy_size = 0.20

    ai_creation_factor = 98

    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_overseers_5 = {
    desc = tb_hobgoblin_overseers_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      TECH_CASTLE_CONSTRUCTION = 6
    }
    upgrades_from = tb_hobgoblin_overseers_4
    gold_cost = 150
    build_time = 730

    fort_level = 1
    garrison_size = 0.25
    levy_size = 0.25

    ai_creation_factor = 98

    extra_tech_building_start = 3
  }

  tb_hobgoblin_overseers_6 = {
    desc = tb_hobgoblin_overseers_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      TECH_CASTLE_CONSTRUCTION = 8
    }
    upgrades_from = tb_hobgoblin_overseers_5
    gold_cost = 200
    build_time = 730

    fort_level = 1
    garrison_size = 0.25
    levy_size = 0.25

    ai_creation_factor = 98

    extra_tech_building_start = 3
  }

  #Slavebreakers
  #represents a satrap overcoming the resistance of unruly slaves
  #L4 allows for a special culture/religion conversion effect (ai by on_action, player by decision)
  tb_hobgoblin_slavebreakers_1 = {
    desc = tb_hobgoblin_slavebreakers_desc
    potential = {
      tribal_hobgoblin_unruly_slaves_building_trigger = yes
    }
    replaces = {
      tb_hillfort_1
    }
    trigger = {
      TECH_RECRUITMENT = 0
    }
    prestige_cost = 150
    build_time = 730

    garrison_size = 0.2
    fort_level = 1

    ai_creation_factor = 100

    extra_tech_building_start = 0.3
  }

  tb_hobgoblin_slavebreakers_2 = {
    desc = tb_hobgoblin_slavebreakers_desc
    potential = {
      tribal_hobgoblin_unruly_slaves_building_trigger = yes
    }
    replaces = {
      tb_hillfort_2
    }
    trigger = {
      TECH_RECRUITMENT = 0
    }
    upgrades_from = tb_hobgoblin_slavebreakers_1
    prestige_cost = 150
    build_time = 730

    garrison_size = 0.2
    fort_level = 1

    ai_creation_factor = 100

    extra_tech_building_start = 5
  }

  tb_hobgoblin_slavebreakers_3 = {
    desc = tb_hobgoblin_slavebreakers_desc
    potential = {
      tribal_hobgoblin_unruly_slaves_building_trigger = yes
    }
    replaces = {
      tb_hillfort_3
    }
    trigger = {
      TECH_RECRUITMENT = 0
    }
    upgrades_from = tb_hobgoblin_slavebreakers_2

    prestige_cost = 150
    build_time = 730

    garrison_size = 0.2
    fort_level = 1

    ai_creation_factor = 100

    extra_tech_building_start = 12

  }

  tb_hobgoblin_slavebreakers_4 = {
    desc = tb_hobgoblin_slavebreakers_desc
    potential = {
      tribal_hobgoblin_unruly_slaves_building_trigger = yes
    }
    replaces = {
      tb_hillfort_4
    }
    trigger = {
      TECH_RECRUITMENT = 0
    }
    upgrades_from = tb_hobgoblin_slavebreakers_3
    prestige_cost = 150
    build_time = 730

    garrison_size = 0.2
    fort_level = 1

    ai_creation_factor = 100

    extra_tech_building_start = 12

  }

  #slave market
  #replaces tribal market town
  #adds to trade value to help Chaos Dwarf Slaver Guilds

  tb_hobgoblin_market_1 = {
    desc = tb_hobgoblin_market_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_market_town_1
    trigger = {
      TECH_TRADE_PRACTICES = 0
    }
    gold_cost = 75
    build_time = 730

    tax_income = 2
    tradevalue = 5

    ai_creation_factor = 97

    extra_tech_building_start = 0.3
  }

  tb_hobgoblin_market_2 = {
    desc = tb_hobgoblin_market_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_market_town_2
    trigger = {
      TECH_TRADE_PRACTICES = 1
    }
    upgrades_from = tb_hobgoblin_market_1
    gold_cost = 100
    build_time = 730

    tax_income = 2
    tradevalue = 5

    ai_creation_factor = 97

    extra_tech_building_start = 0.8
  }

  tb_hobgoblin_market_3 = {
    desc = tb_hobgoblin_market_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_market_town_3
    trigger = {
      TECH_TRADE_PRACTICES = 2
    }
    upgrades_from = tb_hobgoblin_market_2
    gold_cost = 150
    build_time = 730

    tax_income = 2
    tradevalue = 5

    ai_creation_factor = 97

    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_market_4 = {
    desc = tb_hobgoblin_market_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_market_town_4
    trigger = {
      TECH_TRADE_PRACTICES = 4
    }
    upgrades_from = tb_hobgoblin_market_3
    gold_cost = 200
    build_time = 730

    tax_income = 2
    tradevalue = 5

    ai_creation_factor = 97

    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_market_5 = {
    desc = tb_hobgoblin_market_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      TECH_TRADE_PRACTICES = 6
    }
    upgrades_from = tb_hobgoblin_market_4
    gold_cost = 250
    build_time = 730

    tax_income = 2
    tradevalue = 5

    ai_creation_factor = 97

    extra_tech_building_start = 3
  }

  tb_hobgoblin_market_6 = {
    desc = tb_hobgoblin_market_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      TECH_TRADE_PRACTICES = 8
    }
    upgrades_from = tb_hobgoblin_market_5
    gold_cost = 300
    build_time = 730

    tax_income = 2
    tradevalue = 5

    ai_creation_factor = 97

    extra_tech_building_start = 3
  }

  #traps
  #replaces defensive fortifications
  #gives prestige as well as fort level

tb_hobgoblin_traps_1 = {
  desc = tb_hobgoblin_traps_desc
  potential = {
    tribal_hobgoblin_building_trigger = yes
  }
  replaces = tb_defensive_fortifications_1
  trigger = {
    TECH_FORTIFICATIONS_CONSTRUCTION = 0
  }
  gold_cost = 100
  build_time = 365
  fort_level = 0.5
  monthly_character_prestige = 0.1 #hobgoblins admire a good trap

  ai_creation_factor = 98

  extra_tech_building_start = 0.3
}

tb_hobgoblin_traps_2 = {
  desc = tb_hobgoblin_traps_desc
  potential = {
    tribal_hobgoblin_building_trigger = yes
  }
  replaces = tb_defensive_fortifications_2
  trigger = {
    TECH_FORTIFICATIONS_CONSTRUCTION = 1
  }
  upgrades_from = tb_hobgoblin_traps_1
  gold_cost = 150
  build_time = 365
  fort_level = 0.5
  monthly_character_prestige = 0.1 #hobgoblins admire a good trap

  ai_creation_factor = 98

  extra_tech_building_start = 0.8
}

tb_hobgoblin_traps_3 = {
  desc = tb_hobgoblin_traps_desc
  potential = {
    tribal_hobgoblin_building_trigger = yes
  }
  replaces = tb_defensive_fortifications_3
  trigger = {
    TECH_FORTIFICATIONS_CONSTRUCTION = 2
  }
  upgrades_from = tb_hobgoblin_traps_2
  gold_cost = 200
  build_time = 365
  fort_level = 0.5
  monthly_character_prestige = 0.1 #hobgoblins admire a good trap

  ai_creation_factor = 98

  extra_tech_building_start = 1.5
}

tb_hobgoblin_traps_4 = {
  desc = tb_hobgoblin_traps_desc
  potential = {
    tribal_hobgoblin_building_trigger = yes
  }
  replaces = tb_defensive_fortifications_4
  trigger = {
    TECH_FORTIFICATIONS_CONSTRUCTION = 4
  }
  upgrades_from = tb_hobgoblin_traps_3
  gold_cost = 250
  build_time = 365
  fort_level = 0.5
  monthly_character_prestige = 0.1 #hobgoblins admire a good trap

  ai_creation_factor = 98

  extra_tech_building_start = 1.5
}

tb_hobgoblin_traps_5 = {
  desc = tb_hobgoblin_traps_desc
  potential = {
    tribal_hobgoblin_building_trigger = yes
  }
  trigger = {
    TECH_FORTIFICATIONS_CONSTRUCTION = 6
  }
  upgrades_from = tb_hobgoblin_traps_4
  gold_cost = 300
  build_time = 365
  fort_level = 0.5
  monthly_character_prestige = 0.1 #hobgoblins admire a good trap

  ai_creation_factor = 98

  extra_tech_building_start = 3
}

tb_hobgoblin_traps_6 = {
  desc = tb_hobgoblin_traps_desc
  potential = {
    tribal_hobgoblin_building_trigger = yes
  }
  trigger = {
    TECH_FORTIFICATIONS_CONSTRUCTION = 8
  }
  upgrades_from = tb_hobgoblin_traps_5
  gold_cost = 400
  build_time = 365
  fort_level = 0.5
  monthly_character_prestige = 0.1 #hobgoblins admire a good trap

  ai_creation_factor = 98

  extra_tech_building_start = 3
}
  #hobgoblin docks
  #replaces tribal shipyard
  #fewer galleys, more trade value

  tb_hobgoblin_docks_1 = {
    desc = tb_hobgoblin_docks_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_shipyard_1
    port = yes
    trigger = {
      TECH_NAVAL = 0
    }
    gold_cost = 100
    build_time = 730
    galleys = 6
    tradevalue = 5

    ai_creation_factor = 95

    extra_tech_building_start = 0.3
  }

  tb_hobgoblin_docks_2 = {
    desc = tb_hobgoblin_docks_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_shipyard_2
    port = yes
    trigger = {
      TECH_NAVAL = 1
    }
    upgrades_from = tb_hobgoblin_docks_1
    gold_cost = 120
    build_time = 730
    galleys = 6
    tradevalue = 5

    ai_creation_factor = 95

    extra_tech_building_start = 0.8
  }

  tb_hobgoblin_docks_3 = {
    desc = tb_hobgoblin_docks_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_shipyard_3
    port = yes
    trigger = {
      TECH_NAVAL = 2
    }
    upgrades_from = tb_hobgoblin_docks_2
    gold_cost = 150
    build_time = 730
    galleys = 6
    tradevalue = 5

    ai_creation_factor = 95

    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_docks_4 = {
    desc = tb_hobgoblin_docks_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_shipyard_4
    port = yes
    trigger = {
      TECH_NAVAL = 4
    }
    upgrades_from = tb_hobgoblin_docks_3
    gold_cost = 200
    build_time = 730
    galleys = 6
    tradevalue = 5

    ai_creation_factor = 95

    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_docks_5 = {
    desc = tb_hobgoblin_docks_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    port = yes
    trigger = {
      TECH_NAVAL = 6
    }
    upgrades_from = tb_hobgoblin_docks_4
    gold_cost = 250
    build_time = 730
    galleys = 6
    tradevalue = 5

    ai_creation_factor = 95

    extra_tech_building_start = 3
  }

  tb_hobgoblin_docks_6 = {
    desc = tb_hobgoblin_docks_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    port = yes
    trigger = {
      TECH_NAVAL = 8
    }
    upgrades_from = tb_hobgoblin_docks_5
    gold_cost = 300
    build_time = 730
    galleys = 6
    tradevalue = 5

    ai_creation_factor = 95

    extra_tech_building_start = 3
  }

  #wolf pens
  #replaces tribal training grounds
  #provides horse (wolf!) archers in small numbers

  tb_hobgoblin_wolf_pens_1 = {
    desc = tb_hobgoblin_wolf_pens_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_training_grounds_1
    trigger = {
      TECH_CAVALRY = 0
    }
    gold_cost = 120
    build_time = 730
    horse_archers = 10
    light_cavalry = 15
    local_tax_modifier = 0.05
    ai_creation_factor = 96

    extra_tech_building_start = 0.3
  }

  tb_hobgoblin_wolf_pens_2 = {
    desc = tb_hobgoblin_wolf_pens_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_training_grounds_2
    trigger = {
      TECH_CAVALRY = 1
    }
    upgrades_from = tb_hobgoblin_wolf_pens_1
    gold_cost = 150
    build_time = 730
    horse_archers = 15
    light_cavalry = 10
    local_tax_modifier = 0.05
    ai_creation_factor = 96

    extra_tech_building_start = 0.8
  }

  tb_hobgoblin_wolf_pens_3 = {
    desc = tb_hobgoblin_wolf_pens_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_training_grounds_3
    trigger = {
      TECH_CAVALRY = 2
    }
    upgrades_from = tb_hobgoblin_wolf_pens_2
    gold_cost = 200
    build_time = 730
    horse_archers = 20
    light_cavalry = 5
    local_tax_modifier = 0.05
    ai_creation_factor = 96

    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_wolf_pens_4 = {
    desc = tb_hobgoblin_wolf_pens_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_training_grounds_4
    trigger = {
      TECH_CAVALRY = 4
    }
    upgrades_from = tb_hobgoblin_wolf_pens_3
    gold_cost = 250
    build_time = 730
    horse_archers = 25
    local_tax_modifier = 0.05
    ai_creation_factor = 96

    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_wolf_pens_5 = {
    desc = tb_hobgoblin_wolf_pens_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      TECH_CAVALRY = 6
    }
    upgrades_from = tb_hobgoblin_wolf_pens_4
    gold_cost = 300
    build_time = 730
    horse_archers = 30
    local_tax_modifier = 0.05
    ai_creation_factor = 96

    extra_tech_building_start = 3
  }

  tb_hobgoblin_wolf_pens_6 = {
    desc = tb_hobgoblin_wolf_pens_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      TECH_CAVALRY = 8
    }
    upgrades_from = tb_hobgoblin_wolf_pens_5
    gold_cost = 400
    build_time = 730
    horse_archers = 35
    local_tax_modifier = 0.05
    ai_creation_factor = 96

    extra_tech_building_start = 3
  }

  #mining camp (orc slaves)
  #replaces tribal war camp
  #provides some light troops and tax

  tb_hobgoblin_mining_camp_1 = {
    desc = tb_hobgoblin_mining_camp_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_war_camp_1
    trigger = {
      TECH_INFANTRY = 0
    }
    gold_cost = 100
    build_time = 730
    light_infantry = 15
    tax_income = 0.5

    ai_creation_factor = 92
    extra_tech_building_start = 0.3
  }

  tb_hobgoblin_mining_camp_2 = {
    desc = tb_hobgoblin_mining_camp_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_war_camp_2
    trigger = {
      TECH_INFANTRY = 1
    }
    upgrades_from = tb_hobgoblin_mining_camp_1
    gold_cost = 120
    build_time = 730
    light_infantry = 15
    tax_income = 0.5

    ai_creation_factor = 92
    extra_tech_building_start = 0.8
  }

  tb_hobgoblin_mining_camp_3 = {
    desc = tb_hobgoblin_mining_camp_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_war_camp_3
    trigger = {
      TECH_INFANTRY = 2
    }
    upgrades_from = tb_hobgoblin_mining_camp_2
    gold_cost = 150
    build_time = 730
    light_infantry = 15
    tax_income = 0.5

    ai_creation_factor = 92
    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_mining_camp_4 = {
    desc = tb_hobgoblin_mining_camp_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_war_camp_4
    trigger = {
      TECH_INFANTRY = 4
    }
    upgrades_from = tb_hobgoblin_mining_camp_3
    gold_cost = 200
    build_time = 730
    light_infantry = 15
    tax_income = 0.5

    ai_creation_factor = 92
    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_mining_camp_5 = {
    desc = tb_hobgoblin_mining_camp_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      TECH_INFANTRY = 6
    }
    upgrades_from = tb_hobgoblin_mining_camp_4
    gold_cost = 250
    build_time = 730
    light_infantry = 15
    tax_income = 0.5

    ai_creation_factor = 92
    extra_tech_building_start = 3
  }

  tb_hobgoblin_mining_camp_6 = {
    desc = tb_hobgoblin_mining_camp_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      TECH_INFANTRY = 8
    }
    upgrades_from = tb_hobgoblin_mining_camp_5
    gold_cost = 300
    build_time = 730
    light_infantry = 15
    tax_income = 0.5

    ai_creation_factor = 92
    extra_tech_building_start = 3
  }

  #fungus farms (goblin slaves)
  #replaces tribal practice range
  #provides some archers, light troops, and tax

  tb_hobgoblin_farms_1 = {
    desc = tb_hobgoblin_farms_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_practice_range_1
    trigger = {
      TECH_CITY_CONSTRUCTION = 0
    }
    gold_cost = 100
    build_time = 730
    archers = 5
    light_infantry = 5
    tax_income = 0.5

    ai_creation_factor = 94
    extra_tech_building_start = 0.3
  }

  tb_hobgoblin_farms_2 = {
    desc = tb_hobgoblin_farms_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_practice_range_2
    trigger = {
      TECH_CITY_CONSTRUCTION = 1
    }
    upgrades_from = tb_hobgoblin_farms_1
    gold_cost = 120
    build_time = 730
    archers = 5
    light_infantry = 5
    tax_income = 0.5

    ai_creation_factor = 94
    extra_tech_building_start = 0.8
  }

  tb_hobgoblin_farms_3 = {
    desc = tb_hobgoblin_farms_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_practice_range_3
    trigger = {
      TECH_CITY_CONSTRUCTION = 2
    }
    upgrades_from = tb_hobgoblin_farms_2
    gold_cost = 150
    build_time = 730
    archers = 5
    light_infantry = 5
    tax_income = 0.5

    ai_creation_factor = 94
    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_farms_4 = {
    desc = tb_hobgoblin_farms_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_practice_range_4
    trigger = {
      TECH_CITY_CONSTRUCTION = 4
    }
    upgrades_from = tb_hobgoblin_farms_3
    gold_cost = 200
    build_time = 730
    archers = 5
    light_infantry = 5
    tax_income = 0.5

    ai_creation_factor = 94
    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_farms_5 = {
    desc = tb_hobgoblin_farms_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      TECH_CITY_CONSTRUCTION = 6
    }
    upgrades_from = tb_hobgoblin_farms_4
    gold_cost = 250
    build_time = 730
    archers = 5
    light_infantry = 5
    tax_income = 0.5

    ai_creation_factor = 94
    extra_tech_building_start = 3
  }

  tb_hobgoblin_farms_6 = {
    desc = tb_hobgoblin_farms_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      TECH_CITY_CONSTRUCTION = 8
    }
    upgrades_from = tb_hobgoblin_farms_5
    gold_cost = 300
    build_time = 730
    archers = 5
    light_infantry = 5
    tax_income = 0.5

    ai_creation_factor = 94
    extra_tech_building_start = 3
  }

  #armory
  #replaces tribal arsenal
  #provides some light cavalry, troop bonuses
  #NOTE: paid for with prestige instead of gold

  tb_hobgoblin_armory_1 = {
    desc = tb_hobgoblin_armory_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_arsenal_1
    trigger = {
      TECH_RECRUITMENT = 0
    }
    prestige_cost = 100
    build_time = 730

    light_cavalry = 5
    light_cavalry_offensive = 0.1
    light_cavalry_defensive = 0.1

    ai_creation_factor = 88

    extra_tech_building_start = 0.3
  }

  tb_hobgoblin_armory_2 = {
    desc = tb_hobgoblin_armory_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_arsenal_2
    trigger = {
      TECH_RECRUITMENT = 1
    }
    upgrades_from = tb_hobgoblin_armory_1
    prestige_cost = 100
    build_time = 730

    light_cavalry = 5
    light_cavalry_offensive = 0.1
    light_cavalry_defensive = 0.1

    ai_creation_factor = 88

    extra_tech_building_start = 0.8
  }

  tb_hobgoblin_armory_3 = {
    desc = tb_hobgoblin_armory_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_arsenal_3
    trigger = {
      TECH_RECRUITMENT = 2
    }
    upgrades_from = tb_hobgoblin_armory_2
    prestige_cost = 200
    build_time = 730

    horse_archers = 5
    horse_archers_offensive = 0.1
    horse_archers_defensive = 0.1
    light_cavalry = 5
    light_cavalry_offensive = 0.1
    light_cavalry_defensive = 0.1

    ai_creation_factor = 88

    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_armory_4 = {
    desc = tb_hobgoblin_armory_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    replaces = tb_arsenal_4
    trigger = {
      TECH_RECRUITMENT = 4
    }
    upgrades_from = tb_hobgoblin_armory_3
    prestige_cost = 200
    build_time = 730

    horse_archers = 5
    horse_archers_offensive = 0.1
    horse_archers_defensive = 0.1
    light_cavalry = 5
    light_cavalry_offensive = 0.1
    light_cavalry_defensive = 0.1

    ai_creation_factor = 88

    extra_tech_building_start = 1.5
  }

  tb_hobgoblin_armory_5 = {
    desc = tb_hobgoblin_armory_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      TECH_RECRUITMENT = 6
    }
    upgrades_from = tb_hobgoblin_armory_4
    prestige_cost = 300
    build_time = 730

    horse_archers = 5
    horse_archers_offensive = 0.1
    horse_archers_defensive = 0.1
    light_cavalry = 5
    light_cavalry_offensive = 0.1
    light_cavalry_defensive = 0.1

    ai_creation_factor = 88

    extra_tech_building_start = 3
  }

  tb_hobgoblin_armory_6 = {
    desc = tb_hobgoblin_armory_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      TECH_RECRUITMENT = 8
    }
    upgrades_from = tb_hobgoblin_armory_5
    prestige_cost = 300
    build_time = 730

    horse_archers = 5
    horse_archers_offensive = 0.1
    horse_archers_defensive = 0.1
    light_cavalry = 5
    light_cavalry_offensive = 0.1
    light_cavalry_defensive = 0.1

    ai_creation_factor = 88

    extra_tech_building_start = 3
  }

  #TEST
  tb_hobgoblin_slaver_clans_1 = {
    desc = tb_hobgoblin_slaver_clans_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      has_trade_post = yes
      TECH_TRADE_PRACTICES = 0
    }
    is_active_trigger = {
      has_trade_post = yes
    }

    piety_cost = 200
    build_time = 365

    local_tax_modifier = 0.25
    land_morale = 0.1

    ai_creation_factor = 100
    extra_tech_building_start = 0.5
  }

  tb_hobgoblin_slaver_clans_2 = {
    desc = tb_hobgoblin_slaver_clans_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      trade_post_has_building = tr_slaver_clan_hobgoblins_1
      TECH_TRADE_PRACTICES = 3
    }
    is_active_trigger = {
      has_trade_post = yes
    }
    upgrades_from = tb_hobgoblin_slaver_clans_1

    piety_cost = 200
    build_time = 365

    local_tax_modifier = 0.25
    land_morale = 0.1

    ai_creation_factor = 100
    extra_tech_building_start = 0.5
  }

  tb_hobgoblin_slaver_clans_3 = {
    desc = tb_hobgoblin_slaver_clans_desc
    potential = {
      tribal_hobgoblin_building_trigger = yes
    }
    trigger = {
      trade_post_has_building = tr_slaver_clan_hobgoblins_2
      TECH_TRADE_PRACTICES = 6
      has_trade_post = yes
    }
    is_active_trigger = {
      has_trade_post = yes
    }
    upgrades_from = tb_hobgoblin_slaver_clans_2

    piety_cost = 200
    build_time = 365

    local_tax_modifier = 0.25
    land_morale = 0.1

    ai_creation_factor = 100
    extra_tech_building_start = 0.5
  }

  #one slot free

}
